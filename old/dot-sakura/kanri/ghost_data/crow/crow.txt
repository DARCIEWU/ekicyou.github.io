=====================================================================
【名    称】  CROW  ver 0.4.20
【登 録 名】  crow0.4.20.zip
【制作者名】  AQRS  (aqrs@aqrs.jp)
【 ＵＲＩ 】  http://crow.aqrs.jp/
【作成月日】  2004/02/11
【作成方法】  ZIPで解凍
【動作確認】  Windows2000
【ソフト種】  フリーソフト
【サポート】  サイト、メール
【転載条件】  単体では禁止
=====================================================================

■はじめに■
　本ソフトはデスクトップアクセサリ『CROW』の一般公開バージョンです。
　『伺か』の互換機能を持っていますので、伺か用ゴーストをそのまま動作させることが可能です。
----------基本的な情報----------------------------------------------------------
■本ファイルの構成■
▼基本ファイル
	crow.exe
	crowsub.exe
	ghostexp.exe
	khzip.dll
	crow.txt（このドキュメントです）
	history.txt
▼バルーン
	balloon\crow\arrow0.png
	balloon\crow\arrow1.png
	balloon\crow\balloonc0.png
	balloon\crow\balloonc1.png
	balloon\crow\balloonc2.png
	balloon\crow\balloonc3.png
	balloon\crow\balloonk0.png
	balloon\crow\balloonk0s.txt
	balloon\crow\balloonk1.png
	balloon\crow\balloonk1s.txt
	balloon\crow\balloons0.png
	balloon\crow\balloons0s.txt
	balloon\crow\balloons1.png
	balloon\crow\balloons1s.txt
	balloon\crow\balloons2.png
	balloon\crow\balloons2s.txt
	balloon\crow\balloons3.png
	balloon\crow\balloons3s.txt
	balloon\crow\descript.txt
	balloon\crow\online0.png
	balloon\crow\online1.png
	balloon\crow\online2.png
	balloon\crow\online3.png
	balloon\crow\online4.png
	balloon\crow\online5.png
	balloon\crow\sstp.png
▼起動後に作成されるファイル
	crow.ini
	CrowShiori.log *1
	Crow.log *2
	CrowSub.log *2
	CrowUpdate.log *3
	ghostdb.xml *4

　*1『設定−デバッグ』から『SHIORIログを出力する』にチェックした場合のみ
　*2同上、『デバックログを出力する』にチェックした場合のみ
　*3同上、『ネットワーク更新ログを出力する』にチェックした場合のみ
  *4右クリックメニュー、ゴーストインストールを使用した場合のみ

■インストール■
　適当なフォルダに圧縮ファイルを展開してください。
　ゴースト同梱版をダウンロードした場合はそのまま立ち上がりますが、
　新規に単体版をインストールした場合、起動時にネットワークよりゴーストをインストールする必要があります。
　起動時に必要な情報を取得した後、ゴースト一覧が表示されますので、好きなゴーストを選び、インストールをクリックしてください。
　CROWはデスクトップアクセサリ『伺か』の互換機能を有しており、crow.exeおよびcrowsub.exeをMATERIAか、同じ互換ソフトであるSSPの実行フォルダにコピーすることでも、使用が可能です。

▽うさださくら
http://usada.sakura.vg/
▽SSP BUGTRAQ
http://ssp.shillest.net/


▼共存インストール
　前述のとおり既にインストール済みのMATERIAかSSPが存在する場合、適当なフォルダにCROWのファイルを展開後、すべてのファイルをMATERIAかSSPの実行フォルダにコピーすることでも使用が可能です。
　これにより、そのフォルダの下のghostフォルダとballoonフォルダを認識して起動します。
　ただし、MATERIAのデフォルトゴーストの「さくら」しかインストールされていない場合は、ほかのゴーストのインストールが必要です。
※SSPのデフォルトゴースト「エミリ」しかインストールされていない場合、そのまま実行することができます。※
　また、ゴースト同梱版CROWを、MATERIAかSSPが存在するフォルダに展開することで、
既存のデータに同梱ゴーストを加えることも可能です。

▼フォルダ設定
　CROWのフォルダ設定は右クリックメニューの設定から変更することができます。


■アンインストール■
　フォルダに置いたcrow.exeとcrowsub.exe、生成されたcrow.iniファイル
（設定によってはCrowShiori.log、Crow.log、CrowSub.log、CrowUpdate.log,ghostdb.xmlも）の全てを削除してください。
　レジストリは使用していないので、そのまま削除しても構いません。

■ゴーストのインストール■
　新たなゴーストのアーカイブを入手した場合、動作中のゴーストにドラッグ＆ドロップすることにより、ゴーストを追加インストールすることが可能です。
　ブラウザから、アーカイブのURLをドラッグ＆ドロップすることでもインストールが行えます。
　lhaタイプのゴーストをインストールするにはunlha32.dllが必要となります。
　また、右クリックメニュー内のゴーストインストールを選ぶことにより、
　登録されているゴースト一覧からゴーストを選び、そのままダウンロード・インストールを行うこともできます。


----------起動と終了------------------------------------------------------------
■起動■
　crow.exeを実行することで起動します。
　複数のゴーストがインストールされている場合の初回のみ、起動ゴースト問い合わせダイアログが開きます。
　適当なゴーストを選択後、『実行』を押してください。
※本ソフトにはcrowsub.exeというプログラムが付属していますが、これはCROWから呼ばれるサブプロセスなので、直接実行しても何も起きません。※

▼エラーを起こした場合
　もし起動しなくなった場合はcrow.exeと同じフォルダにあるcrow.iniファイルを消してください。
　これで初期状態に戻ります。


■終了■
　ゴースト右クリックメニュー内の『終了』を選択してください。


----------メニュー--------------------------------------------------------------
■オーナードローメニュー■
　起動中のゴーストにマウスポインタを合わせて右クリックすると、幾つかのメニューを呼び出すことができます。一覧にすると、上から順に以下のとおりです。

	おすすめ
	ポータル
	ネットワーク更新
	---
	消滅指示
	---
	ゴーストインストール
	シェル倍率
	ヘッドライン
	時計合わせ
	メールチェック
	本体ネットワーク更新
	設定
	---
	ゴーストエクスプローラ
	ゴースト
	シェル
	バルーン
	---
	常に手前に表示
	常にトレイアイコンを表示
	アイコン化
	---
	バージョン情報
	終了

　メニューの中には項目の表示名がゴーストによって違うものが存在しますが、上記の順番は変化しません。

▼おすすめ
　そのゴーストが「おすすめ」するウェブサイトへのリンク集です。

▼ポータル
　そのゴーストが基本として認識しているウェブサイトへのリンク集です。

▼ネットワーク更新
　ネットワークを通じてゴーストのデータを更新します。クリックすると更新情報の取得を開始し、データが更新されていればそのまま更新作業に入ります。
　当然、ユーザはネットワークに接続している必要があります。
※対応していないゴーストも存在します。※

▼消滅指示
　ゴーストに消滅を指示します。ゴーストの反応があった後、”本当に消滅を指示しますか？”というダイアログが表示されます。
　ここで、”はい”を選択すると、選んだゴーストをアンインストールします。

▼ゴーストインストール
　後述する、ゴーストインストールダイアログを開きます。

▼シェル倍率
　ゴーストのシェル（立ち絵）の表示倍率、30％〜100％の範囲で変更します。

▼ヘッドライン
　ヘッドラインセンサを起動します。
　初期状態ではCROWアーカイブにはヘッドラインセンサは含まれていないので使用できません。
　ヘッドラインセンサが公開されている各HPからダウンロードを行い、
　そのアーカイブをCROWへドラッグ＆ドロップすることによりインストールを行うことができます。

▼時計合わせ
　タイムサーバに接続し、マシンの時計を合わせます。
　時計あわせに使用するサーバーは、後述の設定で変更することができます。

▼メールチェック
　メールサーバに接続し、メールの着信をチェックします。
　使用するためには、あらかじめ後述の設定ダイアログでメールアカウントの設定を行う必要があります。

▼本体ネットワーク更新
　CROW本体の方のデータを更新します。クリックすると更新情報の取得を開始し、データが更新されていればそのまま更新作業に入ります。
　こちらも当然、ユーザはネットワークに接続している必要があります。
※設定によって更新内容が異なります。下記の『▼CROWネットワーク更新時、開発版を対象にする』を参照してください。※

▼設定
　CROWの設定を変更します。下記の別項を参照してください。

▼ゴーストエクスプローラ
　ゴースト操作ソフト『ゴーストエクスプローラ』を起動します。現在インストールされているゴーストの一覧が立ち絵および詳細情報と共に表示され、任意のゴーストを選択することでそのゴーストに交代させることができます。

▼ゴースト
　インストールされているゴーストの名称が一覧で表示され、任意のゴーストを選択することでそのゴーストに交代させることができます。

▼シェル
　そのゴーストが持つシェルの一覧が表示（通常は『master』のみです）され、任意のシェルを選択することでそのシェルに変更させることができます。

▼バルーン
　インストールされているバルーン（会話時に表示される吹き出し）の名称が一覧で表示され、任意のバルーンを選択することで、そのバルーンに変更させることができます。

▼常に手前に表示
　クリックすることでチェックをつける、あるいはついているチェックを外すことができます。
　チェックをつけることで、ゴーストは常に画面の最も手前に表示され、他のウィンドウに隠されることがなくなります。
　チェックを外せば通常のウィンドウと同様、選択した時のみ手前に表示されます。

▼常にトレイアイコンを表示する
　チェックが入っていない場合は、アイコン化をした場合のみタスクトレイにアイコンが表示されますが、
　このチェックを入れることにより、常にアイコンを表示したままにすることができます。

▼アイコン化
　選択することでCROWがアイコン化し、タスクトレイに格納されます。
　タスクトレイに格納されたアイコンを右クリックすることで、この状態を解除することができます。

▼バージョン情報
　CROWの現在のバージョンをダイアログ画像で表示します。ダイアログ画像は『ＯＫ』ボタンを押すことで消すことができます。
　また、左上に青く表示されているのCROW Vx.x.xの部分をクリックすることにより、CROWのHPを開くことができます。

▼終了
　CROWを終了します。


■相方側のメニュー■
　相方が存在するゴーストの場合、そちらを右クリックすることでもメニューを呼び出せますが、通常よりも限定されています。表示されるのは上から順に以下のとおりです。

	相方側のおすすめ
	---
	アイコン化
	---
	終了

　メニューの中には項目の表示名がゴーストによって違うものが存在しますが、上記の順番は変化しません。また、各項目の意味は通常と同じです。
※相方側のおすすめするリンク先は、通常と違う場合もあります。※

----------ゴーストインストール--------------------------------------------------
■概要■
　右クリックメニューから起動されるゴーストインストールダイアログでは、
　ゴースト一覧からゴーストを選び、ダウンロード・インストールを行うことができます。

■ボタン解説■
▼ＤＢネットワーク更新
　ネットワークから、ゴーストの一覧情報を読み込み更新します。
　もし、ゴーストをインストールしようとした時にエラーが出た場合　ＤＢ更新するとインストールできるようになることもあります。
　なお、前回更新から一週間以上たっていた場合は、自動的に実行されます。

▼検索
　リストからゴーストを検索します。検索対象はリストに表示されている項目全てです。
　and検索等は出来ません。

▼次を検索
　検索ボタンで検索した後、同じ条件のまま次にヒットする項目を検索します。

▼インストール
　現在選択中のゴーストをダウンロード・インストールを行います。

▼キャンセル
　インストールを行わずに、ダイアログを閉じます。

▼ＨＰを開く
　そのゴースト作者のＨＰを開きます。

▼インストール済みも表示する
　チェックが入っていない場合は、すでにインストールされていないゴーストは表示されませんが、
　チェックを入れることにより、すべてのデータが表示されます。
　一番左に”済”と書かれたゴーストは、インストール済みです。

■ソート■
　各項目の上部タイトル部分をクリックすることにより、ソートを行うことが出来ます。
　その項目でソートされている状態で、もう一度クリックすることにより逆順でソートします。

----------設定------------------------------------------------------------------
■基本■
▼メッセージ−メッセージスピード
　ゴーストの会話などでバルーン内に表示されるスピードを調整します。

▼メッセージ−会話後、一定時間後でバルーンを消す
　読んで字のごとくです。チェックボックスにチェックを入れておくと、会話が行われた後に一定時間が経過することで、バルーンが消えます。

▼メッセージ−会話時にアクティブにする
　チェックボックスにチェックを入れておくと、会話が始まった際にゴーストが手前に表示されます。

▼ネットワーク−プロキシサーバを使用する
　プロキシサーバを使用している場合、チェックボックスにチェックを入れサーバアドレスとポートを指定することにより、ネットワーク更新時にプロキシサーバを使用することが出来ます。

▼ネットワーク−高速モードを使用する
　チェックボックスにチェックを入れておくと、ネットワーク更新時にメッセージの表示が一部省略され、ネットワーク更新を高速に実行します。


■フォルダ■
▼ゴーストフォルダ
　ゴーストのデータを読み込むフォルダを複数指定することが出来ます。必ず一つはghostフォルダを設定してください。
※デフォルトでは実行ファイル直下のghostフォルダが指定されています。※
　既にインストール済みのMATERIAかSSPが存在する場合、それぞれ『〜〜\materia\ghost』や『〜〜\ssp\balloon』等のフォルダを指定することにより、インストール済みのゴーストをCROWで使用することも可能です。
※実行ファイルがあるフォルダではなく、ghostフォルダを直に指定してください。※

▼バルーンフォルダ
　バルーンのデータを読み込むフォルダを指定します。
　ゴーストと違い、一つしか指定できません。
※実行ファイルがあるフォルダではなく、balloonフォルダを直に指定してください。※

▼アーカイブダウンロードフォルダ
　CROWにゴーストアーカイブ等のURLをドラッグ＆ドロップした場合にアーカイブが保存されるフォルダを指定します。
　後述する、ゴーストインストールダイアログを使用してインストールを行う場合も、このフォルダに保存されます。

■表示■
▼タスクバーの表示を消す
　これにチェックを入れると、タスクバーに表示されなくなります。
　通常はチェックを入れたまま使用してください。

▼デスクトップ下端オフセット
　ここに値を設定すると、表示位置を指定したピクセル分だけ浮かせることが出来ます。
　負の値を指定すると、画面の上に表示することが出来ます。

▼ウィンドウ表示モード
　ウィンドウを生成するモードを指定します。
　モードにはRegionと、ULWの二種類があり、ULWモードはWin2k及びWinXPでしか使用することができません。
　ULWモードを指定すると、半透明機能が使用できるようになり、立ち絵とバルーンの透明度を指定することができます。

▼立ち絵の透明度、バルーンの透明度
　それぞれ、立ち絵、バルーンの透明度を指定します。
　どちらも、ウィンドウ生成モードでULWを選んだときしか使用できません。

▼バルーンの高さを、シェル倍率に関係なく一定にする。
　通常シェルを縮小して表示した場合、バルーンの高さもそれにあわせて縮小されます。
　これにチェックを入れると、シェルの縮小率に関係なくバルーンの高さをシェル倍率が100%の時の値を使用します。

■自動切換え■
▼インストール済みゴーストをFMOに列挙する
　主にSSTP Bottle(http://bottle.mikage.to/)でCROWを使用するときに使う機能です。
　BottleClientからインストール済みのゴーストがすべて見えるようになります。

▼IfGhostでゴーストを切り替える
　上記と同様、主にSSTP Bottleで使用する機能です。
　SSTPでIfGhost付のスクリプトを受け取った場合、
　そのゴーストがインストール済みならば指定したゴーストに切り替えてからスクリプトを再生します。
　通常、上記のFMOに列挙するオプションと一緒に使います。

▼切り替え時に、サーフィスを初期化する
  これにチェックを入れると、IfGhostによりゴーストを切り替えた際にサーフィスを\0側は0に\1側は10に初期化します。
　チェックが入っていない場合、スクリプトの指示があるまで表示されません。

▼切り替え後、一定時間で元のゴーストに戻す
  これにチェックを入れると、IfGhostによりゴーストを切り替えた際に一定時間後元のゴーストに切り替えます。

▼前回と違うゴーストで起動
　これにチェックを入れると、起動するたびに違うゴーストを選ぶことができます。
　選び方は２種類あり、下のドロップダウンリストよりランダムか順番を選ぶことができます。

▼一定時間でゴーストを切り替える
　これにチェックを入れると、その下で指定した分ごとにゴーストを切り替えることができます。
　選び方は２種類あり、下のドロップダウンリストよりランダムか順番を選ぶことができます。

■サーバー■
　右クリックメニューのメールチェックと時計合わせで使用するサーバーの設定を行います。
　メールアカウントは複数登録することができます。

▼メールアカウント設定-アカウント名
　CROWでの識別用の名前を設定します。
　プロバイダが発行するメールアカウントとは違うので注意してください。

▼メールアカウント設定-POPサーバ
　プロバイダのメールサーバのアドレスを指定します。

▼メールアカウント設定-APOP
　これにチェックを入れると、APOPを使用することができます。
　メールサーバが対応していないと使用できません。わからなければ、そのままにしておいてください。

▼メールアカウント設定-ユーザーID
　プロバイダのメールサーバのメールアカウントを指定します。

▼メールアカウント設定-パスワード
　プロバイダのメールサーバのパスワードを指定します。

▼メールアカウント設定-自動チェック
　これにチェックを入れ右に分数を指定すると、指定した分ごとに自動的にメールの着信チェックを行います。

▼メールアカウント設定-置換
　各項目に設定した値を、下のリストの選択部分と置き換えて設定します。

▼メールアカウント設定-追加
　各項目に設定した値を、新規に追加します。

▼メールアカウント設定-削除
　下のリストで選択したアカウントを削除します。


▼SNTPサーバの設定
　時計あわせに使用するサーバを設定します。
　わからなければ、そのままにしてください。

■ヘッドラインセンサ■
▼一定時間ごとにチェックを行う
　これにチェックを入れると、下で指定した時間ごとにヘッドラインセンサを起動します。

▼フォルダ
　ヘッドラインセンサが格納されているフォルダを指定します。

■互換性■
▼異常なガンマ値でもガンマコントロールを行う。
  一部のバージョンのPhotoShopで保存したpnaファイルには異常なガンマ値が記録されることがあります。
　通常は異常なガンマ値の画像はガンマ補正を行いませんが、これにチェックを入れることにより常にガンマ補正を行います。

■デバッグ■
　このタブはCROWやゴーストのデバッグに使用します。わからない方は、触らないでください。

▼SHIORIログを出力する
　SHIORIとのやり取りの記録をCrowShiroi.logに出力します。

▼ログ件数
　SHIORIログの記録件数を指定します。
※あまり大きくすると動作が遅くなります。※
　
▼デバッグログを出力する。
　CROWの動作記録を、crow.logとcrowsub.logに出力します

▼ネットワーク更新ログを出力する
　ネットワーク更新時の処理記録をcrowupdate.logに記録します。

▼CROWネットワーク更新時、開発版を対象にする
　通常CROWネットワーク更新は安定版のみを対象としますが、これをチェックすることにより、開発板を対象とします。
　バグが含まれるバージョンをダウンすることがあるので、トラブルが起きたとき自分で修正できる方のみ使用してください。


----------その他----------------------------------------------------------------
■配布に関して■
　CROWはゴーストへの同梱配布を許可します。
　crow.exe及びcrowsub.exe、ghostexp.exe、khzip.dll、CROW専用バルーンに関してはゴーストに同梱して配布する限り、報告を必要としません。
　イベント等の配布でも許可は必要ありません。
　ただしCROWのデータのみを単体で配布することは禁止させていただきます。
　また、同梱配布には必ず安定版を使用してください。
※開発版の同梱は禁止します。※

▼バルーン
　CROW専用バルーンは御自分でバルーンを用意できない場合のみ、同梱してください。
　同梱用として使用する限り、加工して使っても構いません。
　ただし、その場合バルーン名称とフォルダ名を変更してください。
　御自分でバルーンを用意できる場合は、そちらを同梱するようにしてください。

▼ドキュメント
　同梱配布に際しドキュメントは含めても、含めなくても構いません。
　ただし、配布ソフトのドキュメントのどこかにCROWを使用したことと、配布先のリンクを記述してください。
　そのほかにも、このドキュメントの最後に書いてある、GLDPNGとZLIBの著作権表示も必ず含めてください。
　ＵＲＩ他はこのドキュメント最上部を参照してください。

▼同梱配布版の作成
　CROWを同梱配布するゴーストのフォルダ構成は、通常のインストール形式を持つアーカイブのルートにファイルをコピーする方法と、実行イメージをそのままアーカイブする方法があります。
　インストール形式を使用した場合、起動中の（MATERIA、SSP、CROWのいずれかを使用した）ゴーストにドラッグ＆ドロップでインストールもできるようになります。
　注意点として、install.txtにバルーンインストールの記述を忘れないようにしてください。
　ただし、CROW以外のベースウェアにインストールした場合、crow.exeがゴーストフォルダにコピーされてしまいます。
　実行イメージをそのままアーカイブした場合、ドラッグ＆ドロップによるインストールは行えず、インストールはユーザの手動で行う必要があります。
　説明のためのドキュメントを同梱するか、配布サイトに説明ページを用意してください。
　どちらの場合にしても、crow.iniは含めないようにしてください。ユーザ側で正しく使用できない可能性があります。


■謝辞■
　このソフトウェアを作るにあたって、以下のソフトを利用させてもらいました。
GLDPNG (c) 1998,2000 Copyright Tarquin All Rights Reserved.
ZLIB ver 1.1.2 (c) 1995-1996 Copyright Jean-loup Gailly and Mark Adler

　りゅうさんには偽 Ghost Explorerを提供してもらいました。
　橋本孔明さんには、zip圧縮解凍DLL khzip.dll(ecoco.dllをリネーム）を提供してもらいました。

　ありがとうございました。

